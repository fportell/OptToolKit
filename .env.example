# OpsToolKit - Integrated Tools Platform Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# Authentication (per FR-001, FR-002)
# ============================================================================
APP_USERNAME=admin
APP_PASSWORD=ChangeThisSecurePassword123!

# Flask Session Secret (generate with: python -c "import secrets; print(secrets.token_hex(32))")
SESSION_SECRET=your-secret-key-here-change-this

# ============================================================================
# Session Management (per FR-003, clarifications)
# ============================================================================
# Session timeout: 4 hours of activity OR 30 minutes of inactivity
SESSION_ACTIVITY_TIMEOUT=14400  # 4 hours in seconds
SESSION_INACTIVITY_TIMEOUT=1800  # 30 minutes in seconds

# ============================================================================
# OpenAI API Configuration (per FR-006, FR-008, FR-009)
# ============================================================================
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI Models (optional, defaults shown)
SUMMARY_REVISION_MODEL=gpt-4.1
DR_TRACKER_MODEL=gpt-4.1
CHATBOT_MODEL=gpt-4.1

# ============================================================================
# Concurrency Control (per FR-016, clarifications)
# ============================================================================
MAX_CONCURRENT_USERS=5
OPENAI_QUEUE_ENABLED=true

# ============================================================================
# File Upload Limits (per FR-009, clarifications)
# ============================================================================
MAX_UPLOAD_SIZE_MB=10
DR_TRACKER_TIMEOUT_SECONDS=120  # 2 minutes

# ============================================================================
# Flask Configuration
# ============================================================================
FLASK_APP=app
FLASK_ENV=development  # Change to 'production' for deployment
FLASK_DEBUG=true  # Set to false in production

# Server Configuration
FLASK_HOST=0.0.0.0
FLASK_PORT=5000

# ============================================================================
# RSS Manager Configuration (Node.js Express)
# ============================================================================
RSS_MANAGER_PORT=3001
RSS_DATABASE_PATH=legacy_code/rss-manager/database/rss_subscriptions.db

# ============================================================================
# Session Storage Backend (optional)
# ============================================================================
# Options: filesystem, redis
SESSION_TYPE=filesystem

# If using Redis (optional, per T260)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0

# ============================================================================
# Logging Configuration
# ============================================================================
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/opstoolkit.log

# ============================================================================
# Development Tools (per constitution compliance)
# ============================================================================
ENABLE_MYPY=true
ENABLE_PYTEST_COV=true
COVERAGE_THRESHOLD=80

# ============================================================================
# Security (per constitution and plan.md)
# ============================================================================
HTTPS_ENABLED=false  # Set to true in production
SECURE_COOKIES=false  # Set to true when HTTPS_ENABLED=true
RATE_LIMIT_LOGIN=5  # Login attempts per minute
RATE_LIMIT_AI_OPERATIONS=20  # AI operations per minute

# ============================================================================
# Data Asset Paths
# ============================================================================
GEOLOCATION_DB_PATH=app/services/geolocation/data/geolocations_db.tsv
CHATBOT_KNOWLEDGE_BASE_PATH=app/services/chatbot/data/DR_database_PBI.xlsx
DR_TRACKER_DATA_PATH=app/services/dr_tracker/data/
